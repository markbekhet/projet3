<div class="component-wrapper">
    <mat-list class="usersList">
        <h2>Liste des utilisateurs</h2>
        <mat-list-item *ngFor="let user of users">
            <div *ngIf="user.id !== authenticatedUserId">
                <img matListAvatar [src]="decodeAvatar(user.avatar!)" alt="User avatar" class="avatar">
                <span>{{user.pseudo}}</span>
                <span *ngIf="user.status === 1"> Occupe</span>
                <span *ngIf="user.status === 2"> hors ligne</span>
                <span *ngIf="user.status === 0"> En ligne</span>
                <button (click)="viewUserProfile(user)">Consulter son profil</button>
            </div>
        </mat-list-item>
    </mat-list>

    <mat-list class="teamsList">
        <h2>Équipes de collaboration</h2>
        <mat-list-item *ngFor="let team of teams">
            <span>{{team.name}}</span>
            <!-- <div class="buttons-wrapper"> -->
            <button (click)="joinTeam(team)">Joindre</button>
            <button *ngIf="authenticatedUserId === team.ownerId" (click)="deleteTeam(team)">Supprimer</button>
            <!-- </div> -->

        </mat-list-item>
    </mat-list>

    <mat-list class="chatroomsList">
        <h2>Canaux de discussion</h2>
        <mat-list-item *ngFor="let room of chatrooms">
            <span>{{room}}</span>
            <button (click)="joinChat(room)">Joindre le canal de discussion</button>
            <button *ngIf="room !== 'General'" (click)="leaveTeam(room)">Quitter l'équipe</button>
        </mat-list-item>
    </mat-list>
</div>
