<div class="component-grid">
    <mat-list class="usersList">
        <h2>Utilisateurs connectés</h2>
        <mat-list-item *ngFor="let user of users">
            <div *ngIf="user.id !== authenticatedUserId">
                <img matListAvatar [src]="decodeAvatar(user.avatar!)" alt="User avatar" class="avatar">
                <span>{{user.pseudo}}</span>
                <span *ngIf="user.status === 0">En ligne</span>
                <span *ngIf="user.status === 1">Occupé</span>
                <span *ngIf="user.status === 2">Hors ligne</span>
                <button (click)="viewUserProfile(user)">Consulter son profil</button>
            </div>
        </mat-list-item>
    </mat-list>

    <mat-list class="teamsList">
        <h2>Équipes de collaboration</h2>
        <mat-list-item *ngFor="let team of teams">
            <span>{{team.name}}</span>
            <!-- <div class="buttons-wrapper"> -->
            <button (click)="joinTeam(team)">Joindre</button>
            <button *ngIf="authenticatedUserId === team.ownerId" (click)="deleteTeam(team)">Supprimer</button>
            <!-- </div> -->

        </mat-list-item>
    </mat-list>

    <mat-list class="chatroomsList">
        <h2>Canaux de discussion</h2>

        <mat-chip-list aria-label="Liste des canaux de clavardage">
            <mat-chip color="primary" matTooltip="Joindre le canal" (click)="joinChat('General')" selected>
                {{'General'}}
            </mat-chip>
            <!-- [selectable]="selectable" -->

            <!-- Teams chatrooms -->
            <mat-chip *ngFor="let room of chatrooms" color="accent" matTooltip="Joindre le canal"
                      [removable]="removable" (removed)="remove(room)" (click)="joinChat(room)" selected>
                {{room}}
                <button matChipRemove *ngIf="removable" (click)="leaveTeam(room)">
                    <mat-icon>cancel</mat-icon>
                </button>
            </mat-chip>
        </mat-chip-list>
    </mat-list>

    <div class="chatrooms-selected">
        <ng-template #chatInsert>
        </ng-template>
    </div>
</div>
